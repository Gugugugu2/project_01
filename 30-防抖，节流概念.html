<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./js/jquery-3.6.0.js"></script>
    <style>
        img {
            width: 50px;
            position: absolute;
        }
    </style>
</head>

<body>
    <img src="./img/baidu.png" id="ang" alt="">

</body>
<script>
    /*
        防抖的概念
            是当事件被触发后，延迟n秒后再执行回调，如果在这n秒内事件有被触发，则重新计时
            （案例再前面的淘宝搜索中）(跟王者荣耀中的回城一样)
            用户再输入框中连续输入一串字符时，可以通过防抖策略，只要再输入完成之后
            才执行查询的请求，这样就可以有效地减少请求的次数，节约请求资源
    */

    /*
        节流的概念
            是可以减少一段时间内事件的触发频率（类似于王者荣耀中的平A）

        节流的应用场景
            1、鼠标连续不断第触发某事件，只在单位事件内触发一次
            2、懒加载时要监听计算滚动条的位置，但是不需要每次滑动都触发，而不必去浪费CPU资源

        节流阀的概念（跟等人上厕所一样）
            节流阀为空，比松hike一执行下次操作，不为空，表示不能执行下次操作
            当前操作执行完毕，必须将节流阀重置为空，表示可以执行下次操作了
            每次执行操作前，必须先判断节流阀是否为空

    */
    $(function () {
        // 获取图片
        var angel = $("#ang");
        // 设置节流阀
        var timer = null;
        // 绑定mousemove事件
        $(document).on('mousemove', function (e) {

            // 判断节流阀是否为空
            if (timer) { return }
            // 设置图片的位置

            // 开启延时器
            timer = setTimeout(function () {
                $("#ang").css('top', e.pageY + 'px').css('left', e.pageX + 'px');
                timer = null;
            }, 16)

        })
    })

</script>

</html>